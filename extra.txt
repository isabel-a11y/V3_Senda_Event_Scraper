
Código para convertir la descarga en excel / CSV
""" Crear el CSV
file_path = 'events.csv'
file_exists = os.path.isfile(file_path)

# Abrir el archivo en modo append
with open(file_path, mode='a', newline='', encoding='utf-8') as file:
     writer = csv.writer(file)
    
     # Solo escribir encabezado si el archivo no existe
     if not file_exists:
          writer.writerow(['Name', 'Start Date', 'End Date', 'Formatted Address', 'Description'])

    # Escribir eventos
     for event in response.json().get('results', []):
        title = event.get('title', '')
        start = event.get('start', '')
        end = event.get('end', '')
        address = event.get('geo', {}).get('address', {}).get('formatted_address', '')
        description = event.get('description', '')

        writer.writerow([title, start, end, address, description])

print("Event data appended to CSV successfully.")"""





"""
          # Busqueda de duplicados

          search_response = requests.post(
               url="https://api.notion.com/v1/databases/{DATABASE_ID}/query",
               headers=notion_headers,
               json={
                    "filter": {
                         "property": "Name",
                         "rich_text": {
                              "equals": title
                         }
                    }
               }
          )
          if search_response.status_code != 200:
               print(f"❌ Error searching for duplicates: {search_response.text}")
               continue

          search_results = search_response.json().get("results", [])

          if search_results:
               print(f"⚠️ Duplicate event found: {title}. Skipping.")
               continue
          else:
               notion_response = requests.post(
                    url="https://api.notion.com/v1/pages",
                    headers=notion_headers,
                    json=payload
               )
               if notion_response.status_code == 200:
                    print(f"✅ Event '{title}' added to Notion.")
               else:
                    print(f"❌ Failed to add event '{title}': {notion_response.text}")
"""

          